---
title: Penetration Testing Methodology
date: 2022-10-05 16:40:00 -500 
categories: [PenTesting Methodology]
tags: [pentesting]
---

I recently uploaded my primary notes resource to my Github account. (that repo can be found [here](https://github.com/pharo-sec/Pentesting-Notes))

I've been using those notes during my OSCP studies, Hack the Box/other various labs, and especially during my time as a professional pentester. The key around these notes is the use of the note taking application, [Obsidian](https://obsidian.md/), and that would need a full write up on it alone to fully explore all its features. 

I wanted to write this as setup to how I format and use my notes in hopes that others could use it themselves and add or build to it. 

## Using Obsidian

Once you have Obsidian installed, just clone my repo and open the whole folder as a new "vault" in Obsidian. 

When you first open Obsidian it may look a bit overwhelming with all the seemingly disorganized files, but trust me, it's going to make sense soon. we'll use the "Active Directory.md" file as our example for this walkthrough. When you open the file you should see something along these lines:

![AD File](/assets/PentesterMethodology/Active-Directory-File.png)

You can scroll through and see how each link will redirect you to the speprate files. 

But...

The real power comes from the visualization aspect, click on the three dots near the bottom of the page and select "Open Local Graph".

![Open Local Graph](/assets/PentesterMethodology/open-local-graph.png)

That should display a rather large graph of all the linked files.

![Graph View](/assets/PentesterMethodology/local-graph.png)

Take some time and click around through the nodes and see how easy it is to transition between files now compared to before when we had to scroll through the whole list of files. But it's still going to get better, we're going to color code these nodes depending on their associated tags.

In the graph view, in the top left of the screen you should see several dropdowns. 

Under "Filters" you can optionally check "Neighbor Links" This will add all the lines between the current nodes and show how they are connected to each other. (I personally like having this one, but for some it may be too much).

Now for the real fun, color coding our nodes. Under the "Groups" menu, create the following groups:

- tag:#attack 
- tag:#service
- tag:#enum
- tag:#tool
- tag:#technique
- tag:#moc
- tag:#thing


Now after implementing these groups you should see a nicely colored graph:

![Colored Graph View](/assets/PentesterMethodology/colored-local-graph.png)

Most of these are pretty self-explanatory, but I'll give a brief summary of each anyway:

- Attack: A type of attack to exploit a service/system.
- Service: The application or service running on any given port.
- Enum: An enumeration method.
- Tool: a peice of software that can be used to either attack or enumerate.
- Technique: This referes to the specific ways that you can attack a system/service. 
- MoC: Stands for Map of Content, this is just an easy way to creat a centralized point for broad topics, for example, Active Directory.
- Thing: This is a catch-all tag for things like passwords, hashes, etc...

## Usage

Once all that setup is done, it's time to actually use this thing. There's a lot of different starting points and it really depends on the situation you're in. I find myself starting at the "Services" page since it contains the common ports found during engagements. From there depending on what I've found I pivot through the links to identify ways to enumerate and potential attacks I can execute. 

We'll use the Redis service as our example here.

![Redis](/assets/PentesterMethodology/redis.png)

We see that our grapgh shows me three potential attacks as well as two links to previous lab examples that we can review.

![Redis Graph](/assets/PentesterMethodology/redis-graph.png)

When we navigate too one of these attacks, in this case "Loading Pre-Compiled Module into Redis"

We see we have a link toa git repo that contains the files and instructions necessary to leverage the attack

![Redis Attack](/assets/PentesterMethodology/redis-attack.png)

## Conclusion

I hope you found this useful and hopefully I was able to show you a taste of what can be donw in Obsidian. Please note this is a work in progress and I am constatnly adding to it. It currently foxusing on network penetration testing/AD testing, but I plan on adding Application testing in the near future.  